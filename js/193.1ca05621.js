(self["webpackChunkcastmonkeys"]=self["webpackChunkcastmonkeys"]||[]).push([[193],{9193:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>v});var o=t(83673),a=t(98880);const i={class:"flex flex-center",key:"container",style:{position:"absolute",height:"100%",width:"100%","flex-direction":"column"}};function r(e,s,t,r,n,p){const m=(0,o.up)("gallery"),l=(0,o.up)("q-spinner-puff"),h=(0,o.up)("q-spinner-dots"),u=(0,o.up)("messages"),c=(0,o.up)("q-page");return(0,o.wg)(),(0,o.j4)(c,{class:"bg-sub q-pa-sm",style:{height:"100%"}},{default:(0,o.w5)((()=>[(0,o.Wm)(m),(0,o.Wm)(a.W3,{appear:"","enter-active-class":"animated zoomIn","leave-active-class":"animated zoomOut"},{default:(0,o.w5)((()=>[(0,o.wy)((0,o.Wm)("div",i,[(0,o.Wm)(l,{size:"150px",color:"orange-8",style:{position:"absolute"}}),(0,o.Wm)(l,{size:"110px",color:"orange-6",style:{position:"absolute"}}),(0,o.Wm)(l,{size:"70px",color:"orange-4",style:{position:"absolute"}}),(0,o.Wm)(h,{size:"30px",color:"orange-8",style:{position:"absolute"}})],512),[[a.F8,n.loadState]])])),_:1}),(0,o.Wm)(u,{style:{height:"90%"}})])),_:1})}var n=t(90515),p=t.n(n),m=t(2633);const l={};var h=t(55250);const u={mixins:[l],components:{gallery:m.Z},watch:{activeRoute(e){e?this.getActiveRoom():(this.$socket.emit("leave-room",{room:this.routeData.room}),this.$socket.emit("join-room-notification",this.routeData),this.resetMessages())}},computed:p()(p()({},(0,h.Se)(["room","display","messages","appMessages"])),{},{activeRoute(){return this.$route.params.room}}),data(){return{loadState:!1,routeData:{}}},methods:p()(p()({},(0,h.nv)(["_room","_messages"])),{},{getActiveRoom(){this.loadState=!0,this.resetMessages(),this.display.footer.display=["input"],this.$cm.get(`/rooms/${this.$route.params.room}`).then((e=>{this._room(e.data),this.display.footer.open=!0,this.$socket.emit("initiate-room",{room:e.data}),this.appMessages.url=`/rooms/${this.$route.params.room}/messages`,this.appMessages.skip=0,this.appMessages.firstLoad=!0,this.loadState=!1}))},resetMessages(){this._messages([]),this.appMessages.firstLoad=!0,this.appMessages.url=null}}),created(){this.routeData=p()({},this.$route.params)},mounted(){this.$q.screen.width>=1200&&(this.display.rightDrawer.open=!0),this.getActiveRoom()}};var c=t(24379),g=t(8430),d=t(34765),f=t(7518),y=t.n(f);u.render=r;const v=u;y()(u,"components",{QPage:c.Z,QSpinnerPuff:g.Z,QSpinnerDots:d.Z})}}]);