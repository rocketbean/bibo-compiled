(self["webpackChunkcastmonkeys"]=self["webpackChunkcastmonkeys"]||[]).push([[560],{90560:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>j});var a=l(83673),o=l(62323),s=l(98880);const r={class:"flex flex-center q-pa-sm border-white"},i={style:{width:"100%",height:"100%",position:"absolute",top:"0",left:"0",display:"flex","align-items":"center","justify-content":"center"}},n={style:{display:"flex","align-items":"center","justify-content":"center","flex-direction":"column",height:"100%",width:"100%"}},d={class:"q-gutter-md ",style:{"flex-direction":"row"}},u={key:0,class:"q-gutter-sm",style:{display:"flex","align-items":"center","flex-direction":"column"}},c={class:"full-width flex ",style:{"justify-content":"center","margin-top":"10px"}};function m(e,t,l,m,g,p){const h=(0,a.up)("register"),y=(0,a.up)("q-spinner-puff"),f=(0,a.up)("vue-particles"),b=(0,a.up)("q-icon"),w=(0,a.up)("q-banner"),k=(0,a.up)("q-input"),S=(0,a.up)("q-btn"),v=(0,a.up)("q-page");return(0,a.wg)(),(0,a.j4)(v,{class:"flex flex-center",style:{height:"120vh",width:"100vw","background-image":"linear-gradient(to bottom right, grey, black)"}},{default:(0,a.w5)((()=>[(0,a.Wm)(h,{start:p.start},null,8,["start"]),(0,a.Wm)("div",r,[(0,a.Wm)("div",{style:{width:"200px",height:"120px","margin-bottom":"20px","z-index":"500 position:relative"},ref:"particleContainer",class:["perspective",p.getFocus?"active":"not-active"]},[(0,a.Wm)("div",i,[g.loadState?((0,a.wg)(),(0,a.j4)(y,{key:0,color:"grey-1",size:"6em",thickness:"7",style:{position:"absolute"}})):(0,a.ry)("",!0)]),(0,a.Wm)(f,{class:"item",color:"#ddd",moveSpeed:g.particle.moveSpeed,shapeType:"triangle",particlesNumber:"304"},null,8,["moveSpeed"])],2),(0,a.Wm)("div",n,[(0,a.Wm)("div",d,[g.errors.length>0?((0,a.wg)(),(0,a.j4)("div",u,[((0,a.wg)(!0),(0,a.j4)(a.HY,null,(0,a.Ko)(g.errors,((e,t)=>((0,a.wg)(),(0,a.j4)(w,{key:t,rounded:"",dense:"","inline-actions":"",class:"text-white bg-red flex flex-around"},{avatar:(0,a.w5)((()=>[(0,a.Wm)(b,{name:"warning",size:"sm"})])),default:(0,a.w5)((()=>[(0,a.Wm)("small",null,(0,o.zw)(e),1)])),_:2},1024)))),128))])):(0,a.ry)("",!0),(0,a.Wm)(k,{modelValue:g.creds.email,"onUpdate:modelValue":t[1]||(t[1]=e=>g.creds.email=e),dark:"",disable:g.loadState,color:"grey-1",filled:"",borderless:"",style:{"font-family":"'Quicksand Light Oblique Regular'"},placeholder:"email",onFocus:p.setFocus},null,8,["modelValue","disable","onFocus"]),(0,a.Wm)(k,{type:"password",modelValue:g.creds.password,"onUpdate:modelValue":t[2]||(t[2]=e=>g.creds.password=e),dark:"",color:"grey-1",filled:"",borderless:"",style:{"font-family":"'Quicksand Light Oblique Regular'"},placeholder:"password",disable:g.loadState,onFocus:p.setFocus,onBlur:p.outFocus,onKeyup:(0,s.D2)(p.login,["enter"])},null,8,["modelValue","disable","onFocus","onBlur","onKeyup"])]),(0,a.Wm)("div",c,[(0,a.Wm)(S,{flat:"",dark:"",label:"register",align:"end",color:"green",onClick:t[3]||(t[3]=t=>e._toggle("register")),style:{margin:"4px"}}),(0,a.Wm)(S,{flat:"",dark:"",label:"login",align:"end",color:"grey-5",onClick:p.login,ref:"buttonFocus",style:{margin:"4px"}},null,8,["onClick"])])])])])),_:1})}var g=l(90515),p=l.n(g),h=l(55250),y=l(64434);const f={style:{display:"grid","grid-gap":"0.2rem","grid-template-columns":"repeat(auto-fit, minmax(150px, 1fr))"}};function b(e,t,l,o,s,r){const i=(0,a.up)("q-input"),n=(0,a.up)("q-card-section"),d=(0,a.up)("q-btn"),u=(0,a.up)("q-card-actions"),c=(0,a.up)("q-card"),m=(0,a.up)("q-dialog");return(0,a.wg)(),(0,a.j4)(m,{modelValue:r.open,"onUpdate:modelValue":t[6]||(t[6]=e=>r.open=e)},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{style:{width:"320px"},dark:""},{default:(0,a.w5)((()=>[(0,a.Wm)(n,{dark:""},{default:(0,a.w5)((()=>[(0,a.Wm)(i,{dark:"",color:"grey-1","bottom-slots":"",modelValue:s.register.email,"onUpdate:modelValue":t[1]||(t[1]=e=>s.register.email=e),style:{},label:"email",type:"email",outlined:"",autofocus:"",loading:s.loadState,disable:s.loadState},null,8,["modelValue","loading","disable"]),(0,a.Wm)("div",f,[(0,a.Wm)(i,{dark:"",color:"grey-1","bottom-slots":"",modelValue:s.register.name,"onUpdate:modelValue":t[2]||(t[2]=e=>s.register.name=e),label:"name",outlined:"",loading:s.loadState,disable:s.loadState},null,8,["modelValue","loading","disable"]),(0,a.Wm)(i,{dark:"",color:"grey-1","bottom-slots":"",modelValue:s.register.alias,"onUpdate:modelValue":t[3]||(t[3]=e=>s.register.alias=e),label:"alias (should be unique*)",outlined:"",loading:s.loadState,disable:s.loadState,hint:""},null,8,["modelValue","loading","disable"])]),(0,a.Wm)(i,{dark:"",color:"grey-1","bottom-slots":"",modelValue:s.confirmPassword,"onUpdate:modelValue":t[4]||(t[4]=e=>s.confirmPassword=e),label:"password",type:"password",outlined:"",loading:s.loadState,disable:s.loadState},null,8,["modelValue","loading","disable"]),(0,a.Wm)(i,{dark:"",color:"grey-1","bottom-slots":"",modelValue:s.register.password,"onUpdate:modelValue":t[5]||(t[5]=e=>s.register.password=e),label:"re type your password",type:"password",outlined:"",loading:s.loadState,disable:s.loadState,rules:[e=>e===s.confirmPassword||"password did not match"],"lazy-rules":""},null,8,["modelValue","loading","disable","rules"])])),_:1}),(0,a.Wm)(u,{align:"right"},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{flat:"",outline:"",label:"register",onClick:r.registerUser,loading:s.loadState},null,8,["onClick","loading"])])),_:1})])),_:1})])),_:1},8,["modelValue"])}const w={props:["start"],computed:p()(p()({},(0,h.Se)(["dialogs","auth"])),{},{open:{get(){return this.dialogs.register.open},set(){this._toggle("register")}}}),data(){return{loadState:!1,errors:[],register:{email:"",name:"",alias:"",password:""},confirmPassword:""}},methods:p()(p()({},(0,h.nv)(["_dialogs","_toggle"])),{},{registerUser(){this.loadState=!0,this.$cm.post("users",this.register).then((e=>{this.loadState=!1,this.start(e.data)})).catch((e=>{if(this.loadState=!1,e.response){let t=e.response.data.split(",");t.forEach((e=>{e.includes("email_1 dup key:")&&(e="email is already registered! please use a new email"),y.Z.create({message:e,icon:"warning",color:"red",position:"bottom-right",progress:!0})}))}}))}}),mounted(){}};var k=l(46778),S=l(10151),v=l(25589),x=l(2426),V=l(99367),W=l(2165),q=l(7518),F=l.n(q);w.render=b;const Q=w;F()(w,"components",{QDialog:k.Z,QCard:S.Z,QCardSection:v.Z,QInput:x.Z,QCardActions:V.Z,QBtn:W.Z});const Z={components:{register:Q},computed:p()(p()({},(0,h.Se)([])),{},{getFocus(){return this.particle.onFocus}}),data(){return{errors:[],particle:{moveSpeed:.2,onFocus:!1},creds:{email:"",password:""},loadState:!1}},methods:p()(p()({},(0,h.nv)(["_toggle"])),{},{login(){this.toggleParticle(!0),this.$cm.post("login",this.creds).then((async e=>{await this.start(e.data),this.$router.push({name:"dashboard"})})).catch((e=>{y.Z.create({message:e.response.data,icon:"warning",color:"red",position:"bottom-right",progress:!0}),this.toggleParticle(!1)}))},async start(e){this.$session.setAuth(e),this.toggleParticle(!1),this.$cm.defaults.headers.common["Authorization"]=e.token},toggleParticle(e){this.loadState=!1,this.particle.onFocus=!1},setFocus(){this.particle.onFocus=!0},outFocus(){this.particle.onFocus=!1}}),mounted(){}};var _=l(24379),C=l(8430),P=l(15607),U=l(24554);Z.render=m;const j=Z;F()(Z,"components",{QPage:_.Z,QSpinnerPuff:C.Z,QBanner:P.Z,QIcon:U.Z,QInput:x.Z,QBtn:W.Z})}}]);